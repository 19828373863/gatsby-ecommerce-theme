<!DOCTYPE html><html class="hide-aside" lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>3.数据库 | 民工的小院</title><meta name="author" content="民工"><meta name="copyright" content="民工"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="数据库 考点归纳 数据库模式 三级模式(外模式、概念模式、内模式)、两级独立性(物理独立性、逻辑独立性) ER模型 ER图、实体联系类型重点、ER图转换为关系模型重点 关系运算和元组演算 关系代数的基本运算、元组演算 规范化理论 函数依赖、键的概念、求候选键重点、范式(第一范式、第二范式、第三范式、BC范式)、各种异常 SQL语言 SQL语言基础、视图、表的建立、视图的创建、表的查询重点、表元素的">
<meta property="og:type" content="article">
<meta property="og:title" content="3.数据库">
<meta property="og:url" content="https://fiw.world/7978d6cb/index.html">
<meta property="og:site_name" content="民工的小院">
<meta property="og:description" content="数据库 考点归纳 数据库模式 三级模式(外模式、概念模式、内模式)、两级独立性(物理独立性、逻辑独立性) ER模型 ER图、实体联系类型重点、ER图转换为关系模型重点 关系运算和元组演算 关系代数的基本运算、元组演算 规范化理论 函数依赖、键的概念、求候选键重点、范式(第一范式、第二范式、第三范式、BC范式)、各种异常 SQL语言 SQL语言基础、视图、表的建立、视图的创建、表的查询重点、表元素的">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://fiw.world/cover/2017GuiDao/56.jpg">
<meta property="article:published_time" content="2023-09-27T12:05:15.000Z">
<meta property="article:modified_time" content="2024-04-28T12:46:07.456Z">
<meta property="article:author" content="民工">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://fiw.world/cover/2017GuiDao/56.jpg"><link rel="shortcut icon" href="/cover/%E5%8D%A1%E9%80%9A/7.jpg"><link rel="canonical" href="https://fiw.world/7978d6cb/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Error',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '3.数据库',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-04-28 20:46:07'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="民工的小院" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/cover/%E5%8D%A1%E9%80%9A/7.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">937</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">14</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">279</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/cover/2017GuiDao/56.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="民工的小院"><span class="site-name">民工的小院</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">3.数据库</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2023-09-27T12:05:15.000Z" title="Created 2023-09-27 20:05:15">2023-09-27</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2024-04-28T12:46:07.456Z" title="Updated 2024-04-28 20:46:07">2024-04-28</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%BD%AF%E8%80%83/">软考</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word Count:</span><span class="word-count">11.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading Time:</span><span>35mins</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h2 id="数据库">数据库</h2>
<h3 id="考点归纳">考点归纳</h3>
<h4 id="数据库模式">数据库模式</h4>
<p>三级模式(外模式、概念模式、内模式)、两级独立性(物理独立性、逻辑独立性)</p>
<h4 id="ER模型">ER模型</h4>
<p>ER图、实体联系类型<code>重点</code>、ER图转换为关系模型<code>重点</code></p>
<h4 id="关系运算和元组演算">关系运算和元组演算</h4>
<p>关系代数的基本运算、元组演算</p>
<h4 id="规范化理论">规范化理论</h4>
<p>函数依赖、键的概念、求候选键<code>重点</code>、范式(第一范式、第二范式、第三范式、BC范式)、各种异常</p>
<h4 id="SQL语言">SQL语言</h4>
<p>SQL语言基础、视图、表的建立、视图的创建、表的查询<code>重点</code>、表元素的删除、表元素的插入、表元素的修改</p>
<h4 id="并发控制">并发控制</h4>
<p>事物的概念、数据的不一致问题、封锁技术</p>
<h4 id="其他相关知识">其他相关知识</h4>
<p>数据库管理系统的特征和功能、数据仓库的概念和特点、分布式数据库的概念和特点</p>
<h3 id="四个基础概念">四个基础概念</h3>
<blockquote>
<p>数据(Data)<br>
数据库(Database)<br>
数据库管理系统(DBMS)<br>
数据库系统(DBS)</p>
</blockquote>
<p>（1）数据(Data)<br>
是数据库中存储的基本对象，是描述事物的符号记录。<br>
数据的种类：<br>
文本、图形、图像、音频、视频、学生的档案记录、货物的运输情况等。</p>
<p>（2）数据库(Database, DB)</p>
<p>数据库是长期储存在计算机内、有组织的、可共享的大量数据的集合。<br>
数据库的基本特征</p>
<ul>
<li>数据按一定的数据模型组织、描述和储存</li>
<li>可为各种用户共享</li>
<li>冗余度较小</li>
<li>数据独立性较高</li>
<li>易扩展</li>
</ul>
<p>（3）数据库管理系统(DBMS)</p>
<p>是位于用户与操作系统之间的一层数据管理软件，是一个大型复杂的软件系统。<br>
DBMS的用途</p>
<ul>
<li>科学地组织和存储数据</li>
<li>高效地获取和维护数据</li>
</ul>
<p>（4）数据库系统（Database System，DBS）</p>
<p>是计算机系统中引入数据库后的系统构成。<br>
数据库系统的构成</p>
<ul>
<li>数据库</li>
<li>硬件平台</li>
<li>软件（应用程序）</li>
<li>数据库管理员</li>
</ul>
<h3 id="关系数据库基本概念">关系数据库基本概念</h3>
<blockquote>
<p>**1.属性和域：**描述一个事物常常取其若干特征表示，这些特征称为属性（表中的列称之为属性，列中第一行称之为属性名）。每个属性的取值范围的集合，称为该属性的域。</p>
<p>**2.笛卡尔积(×)：**S1×S2最终属性列为S1+S2属性列，记录数为S1*S2记录数。（在SQL语句中直接逗号隔开就行不加×号）</p>
<p><strong>3.关系的相关名词</strong></p>
<ul>
<li>**候选码：**关系中的一个属性或属性组的值能够唯一地标识一个元组，且他的子集不能唯一的标识一个元组。</li>
<li>**主码：**若一个关系有多个候选码，则选定其中一个为主码。</li>
<li>**主属性：**候选键内的属性为主属性，其他属性为非主属性。</li>
<li>**外码：**如果关系模式R中的属性或属性组非该关系的码，但它是其他关系的码，那么该属性集对关系模式R而言是外码。</li>
<li>**全码：**关系模式的所有属性组是这个关系模式的候选码，称为全码。</li>
</ul>
<p><strong>4.关系的三种类型</strong></p>
<ul>
<li>基本关系：实际存在的表，它是实际存储数据的逻辑表示。</li>
<li>查询表：查询结果对应的表。</li>
<li>视图表：基本表或其他视图表导出的表，不独立存储在数据库中，常称为虚表。</li>
</ul>
<p>5.完整性约束</p>
<ul>
<li>实体完整性约束：即主键约束，主键值不能为空，也不能重复。</li>
<li>参照完整性约束：即外键约束，外键必须是其他表中已经存在的主键的值，或者为空。</li>
<li>用户自定义完整性约束：自定义表达式约束（如设定年龄属性的值必须在0到150之间）。</li>
</ul>
</blockquote>
<h3 id="数据库模型">数据库模型</h3>
<p>数据库系统的设计目标是允许用户逻辑地处理数据，而不必涉及这些数据在计算机中是怎样存放的，在数据组织和用户应用之间 提供某种程度的独立性。</p>
<h4 id="数据库系统的三级模式">数据库系统的三级模式</h4>
<p>数据库系统可以分为：</p>
<ul>
<li>
<p>外模式(子模式、用户模式)</p>
</li>
<li>
<p>模式(概念模式、逻辑模式)</p>
</li>
<li>
<p>内模式(存储模式)</p>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/7978d6cb/../pic/4.%E6%95%B0%E6%8D%AE%E5%BA%93/1.png" alt="在这里插入图片描述"></p>
<p>(1)模式（概念模式、逻辑模式）</p>
<ul>
<li>数据库中全体数据的逻辑结构和特征的描述</li>
<li>所有用户的公共数据视图，综合了所有用户的需求</li>
</ul>
<p>一个数据库只有一个模式</p>
<p>(2)外模式（子模式、用户模式）</p>
<ul>
<li>数据库用户（包括应用程序员和最终用户）使用的<strong>局部数据</strong>的逻辑结构和特征的描述</li>
<li>数据库用户的数据视图，是与某一应用有关的数据的逻辑表示</li>
</ul>
<p>外模式的地位：介于模式与应用之间</p>
<ul>
<li>模式与外模式的关系：一对多
<ul>
<li>外模式通常是模式的子集</li>
<li><strong>一个数据库可以有多个外模式。反映了不同的用户的应用需求、看待数据的方式、对数据保密的要求。</strong></li>
</ul>
</li>
</ul>
<p>外模式的用途</p>
<ul>
<li><strong>保证数据库安全性</strong>的一个有力措施</li>
<li><strong>每个用户只能看见和访问所对应的外模式中的数据</strong></li>
</ul>
<p>(3)内模式（存储模式）</p>
<ul>
<li>是数据<strong>物理结构</strong>和存储方式的描述</li>
<li>是数据在数据库内部的表示方式</li>
<li>一个数据库只有一个内模式</li>
</ul>
<h4 id="三个级别">三个级别</h4>
<p>与三级模式相对应，数据库系统可以划分为三个抽象级：<br>
(1)<strong>用户级</strong>数据库：对应于外模式，是用户看到和使用的数据库，又称<strong>用户视图</strong>。一个数据库可有多个不同的用户视图。<br>
(2)<strong>概念级</strong>数据库：对应于概念模式，是<strong>所有用户视图的最小并集</strong>，一个数据库应用系统只有一个DBA视图。<br>
(3)<strong>物理级</strong>数据库：对应于内模式，是数据库的低层表示，它<strong>描述数据的实际存储组织，是最接近于物理存储的，又称为内部视图</strong></p>
<p>外部层次（External+Level）、概念层次（Conceptual+Level）和内部层次（Internal+Level）。其中外部层次的数据是用户所看到的数据，所以又叫『用户』层次；概念层次的数据是DBMS中全局管理（可以简单地理解为所有的）数据，及数据之间的约束，所以又叫『逻辑』层次；内部层次的数据是存储在介质上的数据，包括存储路径、存储方式、索引方式等，所以又叫『物理』层次。</p>
<p>『<strong>模式</strong>』，就是『对于数据的结构性描述』，所以对于不同层次的数据，就对应着不同层次的模式，分别是：外模式（用户模式）、模式（概念模式、逻辑模式）与内模式（物理模式）。在一个数据库系统中，『模式』与『内模式』都只能有一个，但『外模式』可以有很多个。</p>
<p>原因是『模式』是对DBMS中所有数据的全局性的结构描述，所以只能有一种形式。举个例子：一个学校的数据库中要存放所有学生、课程与选课记录的信息。我们可以用三张表：学生信息表、课程信息表与选课记录表来存放所有的数据。但是存放学生的数据的时候，我们只能够选取某一种特定的结构对学生的信息进行描述，而不能多种不同的结构共存（比如两张不同结构的学生表，存放的都是所有学生的信息）。所以『模式』只能有一个。</p>
<p>同样，我们在介质上存放数据的时候，也只能选取某一种特定的存储路径（数据文件在哪个文件夹下）、存储方式（二进制文本）、索引方式（聚簇索引，普通索引）等等，可以理解为一种数据结构，和具体的计算机语言没什么关系，也不能够像程序一样执行。</p>
<p>至于『外模式』，是以『视图』的形式展现给用户的，所以我猜你对于外模式理解错误的原因，就是理解错误了『视图』的概念。这里的『视图』不是我们平时说的UI，而是指数据库中的视图，又叫『<strong>虚表</strong>』，是相对于『基本表』来说的。这里的『基本表』指的就是我们在建立数据库的时候需要创建的那些数据表（用+CREATE+TABLE+创建出来的），而视图，是对这些基本表中的数据的<strong>某种展现形式</strong>，是这些数据的一个子集，但不限于某张表中的数据的子集，也可以是多张表联合起来进行显示的一组数据。比如在一个学校的教务系统中，我们希望每个学生只能够看到自己的成绩，普通老师可以看到他/她教的学生的成绩，系主任可以看到这个系中所有学生的成绩，校长可以看到学校中每个学生的成绩。那么我们可以基于所有学生的成绩数据，针对于不同权限的用户选取不同的子集，这个子集就是所谓的『视图』。</p>
<p>但需要注意的是，『视图』本身并不『实际』存放数据，而只是对于如何选取数据的一种描述，这也是所谓的『虚』。当全局数据改变的时候，视图中的数据也会随之改变。通过外模式，可以让不同的用户（包括应用程序）看到他们希望看到的（比如可以同时看到学生本人的信息及他她的所有成绩与对应的课程的信息，而这些数据实际上是分别存在于不同的数据表中的），或是我们希望他们看到的数据（通过不同的子集来实现）。总而言之，三种层次的模式都是对于数据的描述，只不过描述的层次不同。</p>
<h3 id="数据模型">数据模型</h3>
<h4 id="关系模型">关系模型</h4>
<p>在用户观点下，关系模型中数据的逻辑结构是一张二维表，它由行和列组成。  <strong>用表格结构表达实体集，用外键（外码）表示实体间联系</strong>。</p>
<p>优点：</p>
<ul>
<li>建立在严格的数学概念基础上</li>
<li>概念单一，结构简单、清晰，用户易懂易用</li>
<li>存取路径对用户透明，从而数据独立性、安全性好，简化数据库开发工作。</li>
</ul>
<p>缺点：由于存取路径透明，<strong>查询效率往往不如非关系数据模型</strong>。</p>
<h4 id="基本概念">基本概念</h4>
<p>1、<strong>域</strong><br>
是一组具有相同数据类型的值的集合。</p>
<ul>
<li>整数</li>
<li>实数</li>
<li>{‘男’，‘女’}</li>
<li>………………</li>
</ul>
<p>2、<strong>笛卡尔积</strong></p>
<p>给定一组域D1，D2，…，Dn，这些域中可以有相同的。  D1，D2，…，Dn的笛卡尔积为：  D1×D2×…×Dn ＝ ｛（d1，d2，…，dn）｜di ∈Di，i＝1，2，…，n｝</p>
<ul>
<li>所有域的所有取值的一个组合</li>
<li><strong>不能重复</strong></li>
</ul>
<p>(3)<strong>关系</strong></p>
<p>D1×D2×…×Dn的子集叫做<strong>在域D1，D2，…，Dn上的关系</strong>，表示为</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">R（<span class="built_in">D1</span>，<span class="built_in">D2</span>，…，<span class="meta">Dn</span>）</span><br></pre></td></tr></table></figure>
<p>R：关系名<br>
n：关系的<strong>目或度</strong>（Degree）</p>
<p>1、关系的表示<br>
关系也是一个二维表，表的每行对应一个<strong>元组</strong>，表的每列对应一个<strong>域</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/7978d6cb/../pic/%E8%BD%AF%E8%80%83/2.png" alt="在这里插入图片描述"></p>
<p>2、<strong>属性</strong></p>
<p>关系中不同列可以对应相同的域 为了加以区分，必须对每列起一个名字，称为<strong>属性</strong>（Attribute） n目关系必有n个属性。</p>
<p>3、<strong>候选码</strong>（Candidate key）</p>
<p>若关系中的某一属性组的值能<strong>唯一地标识一个元组</strong>，则称该属性组为候选码。</p>
<p>4、<strong>主码</strong>（Primary key）</p>
<p>若一个关系有多个候选码，则<strong>选定其中一个为主码</strong>。</p>
<p>基本关系具有以下6条性质：</p>
<ul>
<li>
<p>(1)列是<strong>同质</strong>的，即每一列中的分量是同一类型的数据，<u>来自同一个域</u>。</p>
</li>
<li>
<p>(2)<strong>不同的列</strong>可出自同一个域，称其中的每一列为<strong>一个属性</strong>，不同的属性要给予不同的属性名。</p>
</li>
<li>
<p>(3)列的顺序无所谓，即列的次序可以任意交换。</p>
</li>
<li>
<p>(4)<strong>任意两个元组不能完全相同</strong>。 但多数实际关系数据库产品中，例如Oracle等，如果用户没有定义有关的约束条件，它们都允许关系表中存在两个完全相同的元组。</p>
</li>
<li>
<p>(5)行的顺序无所谓，即行的次序可以任意交换。</p>
</li>
<li>
<p>(6)<strong>分量必须取原子值</strong>，即每一个分量都必须是不可分的数据项。</p>
<blockquote>
<p>在数据库中，&quot;分量必须取原子值&quot;意味着在关系数据库中的某个表中，每个属性（列）只能包含原子值。原子值是指不可再分的单个值，无法进一步分解为更小的部分。</p>
<p>这个要求确保数据库表中的每个属性都具有确定、唯一的值，而不是包含复杂的结构或多个值。如果分量不是原子值，就会导致数据冗余和不一致性，并影响数据库的正常操作和数据查询。</p>
<p>举个例子，假设有一个名为&quot;顾客&quot;的表，其中有一个属性&quot;联系方式&quot;，如果分量必须取原子值，那么每个顾客的&quot;联系方式&quot;属性只能包含一个单独的手机号码或邮箱地址，而不能是一个包含多个手机号码或多个邮箱地址的列表。这样可以确保查询时可以准确地找到特定顾客的联系方式。</p>
<p>总之，&quot;分量必须取原子值&quot;在数据库中意味着每个属性只能包含单一的、不可再分的原子值，以保证数据的一致性和查询的准确性。</p>
</blockquote>
</li>
</ul>
<p>关系的描述称为<strong>关系模式</strong>，关系模式是一个五元组，形式化地表示为：</p>
<ul>
<li>R（U，D，DOM，F）</li>
<li>R 关系名</li>
<li>U 组成该关系的属性名集合</li>
<li>D 属性组U中属性所来自的域</li>
<li>DOM 属性向域的映象集合</li>
<li>F 属性间的数据依赖关系集合</li>
</ul>
<p>通常简记为R（A1，A2，…，An）。 R为关系名， A1，A2…为属性名。</p>
<h4 id="规范化理论-2">规范化理论</h4>
<p>设有一个关系模式R(SNAME , CNAME , TNAME , TADDRESS)，其属性分别表示学生姓名、课程名、任课教师姓名和任课教师地址。<br>
这个模式存在下列存储异常的问题。<br>
(1)数据冗余<br>
(2)修改异常<br>
(3)插入异常<br>
(4)删除异常</p>
<p>把R分解成下列三个关系模式：R1(SNAME, CNAME)和R2（CNAME, TNAME）,R3(TNAME, TADDRESS)，则能消除上述的存储异常现象。</p>
<p>模式设计强调“<strong>每个联系单独表达</strong>”是一条重要的设计原则。</p>
<h4 id="范式">范式</h4>
<p>(1)第一范式(1NF)</p>
<p>如果关系模式R的每个关系r的属性值都是不可分的原子值，那么 称R是第一范式的模式，r是规范化的关系。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/7978d6cb/../pic/%E8%BD%AF%E8%80%83/3.png" alt></p>
<p>说明：在任何一个关系数据库中，<strong>第一范式是对关系模式的基本要求</strong>，不满足第一范式（1NF）的数据库就不是关系数据库。</p>
<p>(2)第二范式(2NF)</p>
<p>若关系模式R是1NF，且<strong>每个非主属性完全函数依赖于候选键，那么称R是2NF模式</strong>。<br>
简单的说，是<u>表中的属性必须完全依赖于全部主键，而不是部分主键</u>。所以只有一个主键的表如果符合第一范式，那一定是第二范式。</p>
<p>例如员工信息表中加上了员工编号（emp_id）列，因为每个员工的员工编号是惟一的，因此每个员工可以被惟一区分。</p>
<p>(3)第三范式(3NF)</p>
<p>如果关系模式R是1NF，且每个非主属性都不传递依赖于R的候选码，则称R是3NF。<br>
例如，存在一个部门信息表，其中每个部门有部门编号（dept_id）、部门名称、部门简介等信息。<br>
那么在员工信息表中列出部门编号后就不能再将部门名称、部门 简介等与部门有关的信息再加入员工信息表中。如果不存在部门信息表，则根据第三范式（3NF）也应该构建它，否则就会有大量的数据冗余。</p>
<p>(4) BC范式(BCNF)</p>
<p>若关系模式R是1NF，且每个属性<strong>都不传递依赖于R的候选键</strong>，那么称R是BCNF模式。<br>
相对于第三范式，BC范式的要求更加严格。第三范式只是要求R为第二范式且非主属性不传递依赖于R的候选键，而BC范式则是 对R的每个属性都做要求。</p>
<p>在关系模式STJ（S，T，J）中，S表示学生，T表示教师，J表示课程。</p>
<p>每一教师只教一门课。每门课由一名教师教，某一学生选定某门课，就确定了一个固定的教师。某个学生选修某个教师的课就确 定了所选课的名称：(S，J)→T，(S，T)→J，T→J</p>
<blockquote>
<p>例：设有关系模式R (E，N，M，L，Q)，其函数依赖集为F={ E→N， EM→Q，M→L)。则关系模式R达到了( A )；该关系模式( D )。<br>
A.1NF</p>
<p>B.2NF</p>
<p>C.3NF</p>
<p>D.BCNF</p>
<p>A.无需进行分解，因为已经达到了3NF<br>
B.无需进行分解，因为已经达到了BCNF<br>
C.尽管不存在部分函数依赖，但还存在传递依赖，所以需要进行分解<br>
D.需要进行分解，因为存在冗余、修改操作的不一致性、插入和删除异常</p>
</blockquote>
<h1>数据操作</h1>
<h2 id="集合运算符"><strong>集合运算符</strong></h2>
<table>
<thead>
<tr>
<th>运算符</th>
<th>含义</th>
<th>英文</th>
</tr>
</thead>
<tbody>
<tr>
<td>$∪$</td>
<td>并</td>
<td>Union</td>
</tr>
<tr>
<td>$−$</td>
<td>差</td>
<td>Difference</td>
</tr>
<tr>
<td>$∩$</td>
<td>交</td>
<td>Intersection</td>
</tr>
<tr>
<td>$×$</td>
<td>笛卡尔积</td>
<td>Cartesian Product</td>
</tr>
</tbody>
</table>
<p><strong>比较运算符</strong></p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>$&gt;$</td>
<td>大于</td>
</tr>
<tr>
<td>$≥$</td>
<td>大于等于</td>
</tr>
<tr>
<td>$&lt;$</td>
<td>小于</td>
</tr>
<tr>
<td>$≤$</td>
<td>小于等于</td>
</tr>
<tr>
<td>$=$</td>
<td>等于</td>
</tr>
<tr>
<td>$≠$</td>
<td>不等于</td>
</tr>
</tbody>
</table>
<p><strong>专门的关系运算符</strong></p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>含义</th>
<th>英文</th>
</tr>
</thead>
<tbody>
<tr>
<td>$σ$</td>
<td>选择</td>
<td>Selection</td>
</tr>
<tr>
<td>$π$</td>
<td>投影</td>
<td>Projection</td>
</tr>
<tr>
<td>$⋈$</td>
<td>链接</td>
<td>Join</td>
</tr>
<tr>
<td>$÷$</td>
<td>除</td>
<td>Division</td>
</tr>
</tbody>
</table>
<p><strong>逻辑运算符</strong></p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>$∧$</td>
<td>与</td>
</tr>
<tr>
<td>$∨$</td>
<td>或</td>
</tr>
<tr>
<td>$¬$</td>
<td>非</td>
</tr>
</tbody>
</table>
<h2 id="5-种基本的关系代数运算">5 种基本的关系代数运算</h2>
<h3 id="并（Union）">并（Union）</h3>
<p>关系 R 与 S 具有相同的关系模式，即 R 与 S 的元数相同（结构相同），R 与 S 的并是属于 R <strong>或</strong> 属于 S 的元组构成的集合，记作 R ∪ S，定义如下：</p>
<p>$$R∪S=\{t|t∈R∨t∈S\}$$</p>
<h3 id="差（Difference）">差（Difference）</h3>
<p>关系 R 与 S 具有相同的关系模式，关系 R 与 S 的差是属于 R <strong>且</strong> 不属于 S 的元组构成的集合，记作 R − S，定义如下：</p>
<p>$$R−S=\{t|t∈R∧t∉S\}$$</p>
<h3 id="广义笛卡尔积（Extended-Cartesian-Product）">广义笛卡尔积（Extended Cartesian Product）</h3>
<p>两个无数分别为 n 目和 m 目的关系 R 和 S 的 笛卡尔积是一个 (n+m) 列的元组的集合。组的前 n 列是关系 R 的一个元组，后 m 列是关系 S 的一个元组，记作 R × S，定义如下：</p>
<p>$$R×S={t|t=&lt;(t^n,t^m)∧t^n∈R∧t^m∈S}$$</p>
<p>$(t^n,t^m)$ 表示元素 $t^n$ 和 $t^m$ 拼接成的一个元组</p>
<h3 id="投影（Projection）">投影（Projection）</h3>
<p>投影运算是从关系的垂直方向进行运算，<strong>在关系 R 中选出若干属性列 A 组成新的关系</strong>，记作 $π_A®$，其形式如下：</p>
<p>$$π_A®=\{t[A]|t∈R\}$$</p>
<h3 id="选择（Selection）">选择（Selection）</h3>
<p>选择运算是从关系的水平方向进行运算，是<strong>从关系 R 中选择满足给定条件的元组</strong>，记作 $σ_F®$，其形式如下：</p>
<p>$$σ_F®={t|t∈R∧F(t)=True}$$</p>
<h2 id="实例">实例</h2>
<p>设有关系 R、S 如图所示，求 $R∪S$、 $R−S$、 $R×S$、 $π_{A,C}®$、 $σ_{A&gt;B}®$ 和 $σ_{3&lt;4}(R×S)$</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img10.360buyimg.com/devfe/jfs/t3967/269/2409299226/5377/e997b909/58a95fceNddd39fd7.png" alt="关系表RS"></p>
<p>进行并、差运算后结果如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img14.360buyimg.com/devfe/jfs/t3949/95/2458170516/5487/1c7f1f38/58a967b1N42db123f.png" alt="并差"></p>
<p>进行笛卡尔、 投影、 选择运算后结果如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img30.360buyimg.com/devfe/jfs/t3943/109/2403665652/38834/c636281b/58a9685dN20af0b9b.png" alt="笛卡尔_投影_选择"></p>
<h2 id="扩展的关系代数运算">扩展的关系代数运算</h2>
<h3 id="交（Intersection）">交（Intersection）</h3>
<p>关系 R 和 S 具有相同的关系模式，交是由属于 R 同时双属于 S 的元组构成的集合，记作 R∩S，形式如下：</p>
<p>$$R∩S={t|t∈R∧t∈S}$$</p>
<h3 id="链接（Join）">链接（Join）</h3>
<p>注：下面的 θ 链接应该记作：<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img10.360buyimg.com/devfe/jfs/t3967/158/2461240249/2389/530d7d07/58aa580aNe9908740.png" alt="theta链接"></p>
<h4 id="θ-链接">θ 链接</h4>
<p>从 R 与 S的笛卡尔积中选取属性间满足一定条件的元组，可由基本的关系运算笛卡尔积和选取运算导出，表示为：</p>
<p>$$R \Join_{XθY} S = σ_{XθY}(R×S)$$</p>
<p>XθY 为链接的条件，θ 是比较运算符，X 和 Y 分别为 R 和 S 上度数相等且可比的属性组</p>
<p>例如：求 $R \Join_{R.A&lt;S.B} S$，如果为：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img14.360buyimg.com/devfe/jfs/t3133/127/6662942086/21071/88c200da/58aa5b1fN3e2316d5.png" alt="theta链接小于过程"></p>
<h4 id="等值链接">等值链接</h4>
<p>当 θ 为「=」时，称之为等值链接，记为： $R\Join_{X=Y}S$</p>
<h4 id="自然链接">自然链接</h4>
<p>自然链接是一种特殊的等值链接，它要求两个关系中进行比较的分量必须是 <strong>相同的属性组</strong>，并且在结果集中将 <strong>重复的属性列</strong> 去掉</p>
<p>例如：设有关系 R、S 如图所示，求 $R \Join S$</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img11.360buyimg.com/devfe/jfs/t3982/212/2472511181/5973/54467e2a/58aa5ffaN970f7e5a.png" alt="关系RS"></p>
<p>先求出笛卡尔积 $R×S$，找出比较分量（有相同属性组），即: R.A/S.A 与 R.C/S.C</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img10.360buyimg.com/devfe/jfs/t3841/5/4275908218/12385/79e83d01/58aa6066Nd003e697.png" alt="求出笛卡尔积"></p>
<p>取等值链接 $R.A = S.A$ 且 $R.C = S.C$</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img10.360buyimg.com/devfe/jfs/t3256/75/6205568741/12327/2b1dc867/58aa60e8N38a84108.png" alt="找出相同属性的比较分量"></p>
<p>结果集中去掉重复属性列，注意无论去掉 R.A 或者 S.A 效果都一样，因为他们的值相等，结果集中只会有属性 A、B、C、D</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img12.360buyimg.com/devfe/jfs/t3217/183/6576493853/4744/ccb96965/58aa612eN043f7425.png" alt="结果集中找出重复属性列"></p>
<p>最终得出结果</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img12.360buyimg.com/devfe/jfs/t3247/65/6676502314/2874/657ddb0c/58aa617eN2457f536.png" alt="RS自然链接结果"></p>
<h3 id="除（Division）">除（Division）</h3>
<p>设有以下如图关系，求 $R÷S$</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img10.360buyimg.com/devfe/jfs/t3151/348/6716540896/7287/dc01ad2e/58aaaf3bN1cae8b1a.png" alt="关系RS1"></p>
<p>取关系 R 中有的但 S 中没有的属性组，即：A、B</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img11.360buyimg.com/devfe/jfs/t3202/137/6722879648/7244/3b47a185/58aaaf81N0b2491b5.png" alt="关系RS1取属性AB"></p>
<p>取唯一 A、B 属性组值的象集</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img11.360buyimg.com/devfe/jfs/t3871/170/2430481542/5179/be5899c5/58aaafe6N8297b49f.png" alt="关系RS1取属性AB对应的象集"></p>
<p>可知关系S存在于 a,b/c,k 象集 中。即 $R÷S$ 得</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img10.360buyimg.com/devfe/jfs/t3130/361/6704334588/3366/6b7e0b56/58aab058N3a3c374d.png" alt="关系RS1除结果"></p>
<h3 id="外连接">外连接</h3>
<p>外连接是一种连接操作，它可以返回两个表中符合连接条件的记录，同时还可以返回未能匹配的记录。外连接分为左外连接（Left Outer Join）、右外连接（Right Outer Join）和全外连接（Full Outer Join）。</p>
<ul>
<li>
<p>左外连接：返回左表中的所有记录，同时返回与右表匹配的记录，如果右表中没有匹配的记录，则用 NULL 值填充。</p>
<p>语法：SELECT 列表<br>
FROM 表1<br>
LEFT OUTER JOIN 表2<br>
ON 连接条件;</p>
</li>
<li>
<p>右外连接：返回右表中的所有记录，同时返回与左表匹配的记录，如果左表中没有匹配的记录，则用 NULL 值填充。</p>
<p>语法：SELECT 列表<br>
FROM 表1<br>
RIGHT OUTER JOIN 表2<br>
ON 连接条件;</p>
</li>
<li>
<p>全外连接：返回左表和右表的所有记录，如果左表或右表中没有匹配的记录，则用 NULL 值填充。</p>
<p>语法：SELECT 列表<br>
FROM 表1<br>
FULL OUTER JOIN 表2<br>
ON 连接条件;</p>
</li>
</ul>
<h1>数据库语言</h1>
<p>SQL是结构化查询语言（Structured Query Language）的缩写，其功能包括数据查询、数据操纵、数据定义和数据控制四个部分。</p>
<ul>
<li>SQL 语言简洁、方便实用、功能齐全，已成为目前应用最广的关系数据库语言。</li>
<li>SQL既是自含式语言（联机交互），又是嵌入式语言（宿主语言）</li>
</ul>
<p>基本概念</p>
<ul>
<li>基本表（BASE TABLE）：是独立存在的表，不是由其它的表导出的表。一个关系对应一个基本表，一个或多个基本表对应一 个存储文件。</li>
<li>视图（VIEW）：是一个虚拟的表，是从一个或几个基本表导出的表。数据库中只存放视图的定义而不存放视图对应的数据， 这些数据仍存放在导出视图的基本表中。当基本表中的数据发 生变化时，从视图中查询出来的数据也随之改变。</li>
</ul>
<h4 id="数据定义">数据定义</h4>
<p>SQL语言使用数据定义语言（DDL）实现其数据定义功能，可对数据库用户、基本表、视图、索引进行定义和撤消。</p>
<table>
<thead>
<tr>
<th>操作对象</th>
<th>创建</th>
<th>删除</th>
<th>修改</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>模式</code></td>
<td><code>CREATE SCHEMA</code></td>
<td><code>DROP SCHEMA</code></td>
<td></td>
</tr>
<tr>
<td>表</td>
<td>CREATE TABLE</td>
<td>DROP TABLE</td>
<td>ALTER TABLE</td>
</tr>
<tr>
<td>视图</td>
<td>CREATE VIEW</td>
<td>DROP VIEW</td>
<td></td>
</tr>
<tr>
<td>索引</td>
<td>CREATE INDEX</td>
<td>DROP INDEX</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="1、SQL数据定义（DDL）">1、SQL数据定义（DDL）</h3>
<p><strong>1、创建数据库</strong></p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--1、创建库</span></span><br><span class="line"><span class="keyword">create</span> database db1;</span><br><span class="line"><span class="comment">--2、创建库是否存在，不存在则创建</span></span><br><span class="line"><span class="keyword">create</span> database if <span class="keyword">not</span> <span class="keyword">exists</span> db1;</span><br><span class="line"><span class="comment">--3、查看所有数据库</span></span><br><span class="line"><span class="keyword">show</span> databases;</span><br><span class="line"><span class="comment">--4、查看某个数据库的定义信息 </span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> database db1; </span><br><span class="line"><span class="comment">--5、删除数据库</span></span><br><span class="line"><span class="keyword">drop</span> database db1; </span><br></pre></td></tr></table></figure>
<p><strong>2、表的创建、修改、删除（完整性约束条件有NULL(空)、UNIQUE(唯一的)、NOT NULL UNIQUE(不空且取值唯一)）</strong></p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--1、创建表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line">    id <span class="type">int</span>,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">32</span>),</span><br><span class="line">    age <span class="type">int</span> </span><br><span class="line">);</span><br><span class="line"><span class="comment">--2、修改表名</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 rename <span class="keyword">to</span> 新的表名;</span><br><span class="line"><span class="comment">--3、添加一列</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="keyword">add</span> 列名 数据类型;</span><br><span class="line"><span class="comment">--4、删除列</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="keyword">drop</span> 列名;</span><br><span class="line"><span class="comment">--5、删除表</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> 表名;</span><br></pre></td></tr></table></figure>
<p><strong>3、索引的创建和删除。（采用三级模式的数据库系统中如果对一个表创建聚簇索引，那么改变的是数据库的内模式）</strong></p>
<ul>
<li>&lt;次序：可选升序(ASC)或降序(DSC)，默认值为ASC</li>
<li>UNIQUE：表明此索引的每一个索引值只对应唯一的数据记录</li>
<li>CLUSTER：表示要建立的索引是聚集索引。</li>
</ul>
<p><strong>4、视图的创建删除和修改（WITH CHECK OPTION ）</strong></p>
<ul>
<li>视图是从一个表或多个表或视图中导出的，是一个虚拟表。</li>
<li>子查询可以是任意复杂的select语句，但通常不允许含有order by子句和distinct 短语</li>
<li><strong>WITH CHECK OPTION 表示对 UPDATE、INSERT、DELETE 操作时要保证更新、插入或删除的行满足视图定义中的谓词条件</strong></li>
</ul>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--1、创建视图</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> student</span><br><span class="line"><span class="keyword">AS</span> <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">from</span> 学生表 whuere 专业<span class="operator">=</span><span class="string">&#x27;计算机&#x27;</span></span><br><span class="line"><span class="keyword">WITH</span> <span class="keyword">CHECK</span> OPTION（满足视图的谓词条件）</span><br><span class="line"><span class="comment">--2、修改视图</span></span><br><span class="line"><span class="keyword">update</span> student</span><br><span class="line"><span class="keyword">set</span> name<span class="operator">=</span><span class="string">&#x27;wymh&#x27;</span></span><br><span class="line"><span class="keyword">where</span> 学号<span class="operator">=</span><span class="number">211021116</span></span><br><span class="line"><span class="comment">--3、删除视图</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">view</span> student </span><br></pre></td></tr></table></figure>
<h3 id="2、SQL数据查询（DQL）">2、SQL数据查询（DQL）</h3>
<ul>
<li><strong>聚集函数：以一个值的集合为输入，返回单个值的函数。（平均值AVG、最小值MIN、最大值MAX、求和SUM、计数COUNT）</strong></li>
<li>where后不能更聚合函数</li>
<li>GROUP BY子句：对元组进行分组，保留字GROUP BY后面跟着一个分组属性列表。</li>
<li>字符串模式匹配（LIKE）： <strong>“%” 匹配任意字符串、“-” 匹配任意一个字符。</strong></li>
</ul>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--1、按照性别分组。分别查询男、女的平均分,人数。要求：分数高于70分，分组之后。人数要大于2个人</span></span><br><span class="line"><span class="keyword">SELECT</span> sex , <span class="built_in">AVG</span>(math),<span class="built_in">COUNT</span>(id) </span><br><span class="line"><span class="keyword">FROM</span> student </span><br><span class="line"><span class="keyword">WHERE</span> math  <span class="number">70</span></span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> sex </span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(id)  <span class="number">2</span>;</span><br><span class="line"><span class="comment">--3、分组排序</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> person <span class="keyword">ORDER</span> <span class="keyword">BY</span> math; <span class="comment">--默认升序</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> person <span class="keyword">ORDER</span> <span class="keyword">BY</span> math <span class="keyword">desc</span>; <span class="comment">--降序</span></span><br><span class="line"><span class="comment">--3、查询姓马的有哪些？</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> NAME <span class="keyword">LIKE</span> <span class="string">&#x27;马%&#x27;</span>;</span><br><span class="line"><span class="comment">--4、查询姓名第二个字是化的人			</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> NAME <span class="keyword">LIKE</span> &quot;_化%&quot;;	</span><br></pre></td></tr></table></figure>
<h3 id="3、SQL数据更新（DML）">3、SQL数据更新（DML）</h3>
<p><strong>1、增加、删除、修改的操作</strong></p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--1、不写列名（所有列全部添加）</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> 表名 <span class="keyword">values</span>(值<span class="number">1</span>,值<span class="number">2</span>,...值n);</span><br><span class="line"><span class="comment">--2、插入部分数据</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> 表名(列名<span class="number">1</span>,列名<span class="number">2</span>) <span class="keyword">values</span>(值<span class="number">1</span>,值<span class="number">2</span>);</span><br><span class="line"><span class="comment">--3、删除表中数据</span></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> 表名 <span class="keyword">where</span> 列名  <span class="operator">=</span> 值;</span><br><span class="line"><span class="comment">--4、删除表中所有数据</span></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> 表名;</span><br><span class="line"><span class="comment">--5、不带条件的修改(会修改所有行)</span></span><br><span class="line"><span class="keyword">update</span> 表名 <span class="keyword">set</span> 列名 <span class="operator">=</span> 值;</span><br><span class="line"><span class="comment">--6、带条件的修改</span></span><br><span class="line"><span class="keyword">update</span> 表名 <span class="keyword">set</span> 列名 <span class="operator">=</span> 值 <span class="keyword">where</span> 列名<span class="operator">=</span>值;</span><br></pre></td></tr></table></figure>
<h3 id="4、SQL访问控制（DCL）">4、SQL访问控制（DCL）</h3>
<p><strong>1、授予、撤销权限的操作——****[WITH CHECK OPTION]</strong></p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--1、给某人授予某权限</span></span><br><span class="line"><span class="keyword">grant</span> 权限列表 <span class="keyword">on</span> 数据库名.表名 </span><br><span class="line"><span class="keyword">to</span> <span class="string">&#x27;用户名&#x27;</span>@<span class="string">&#x27;主机名&#x27;</span>;</span><br><span class="line">[<span class="keyword">WITH</span> <span class="keyword">CHECK</span> OPTION]</span><br><span class="line"><span class="comment">--2、给张三用户授予所有权限，在任意数据库任意表上</span></span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">ON</span> <span class="operator">*</span>.<span class="operator">*</span> </span><br><span class="line"><span class="keyword">TO</span> <span class="string">&#x27;zhangsan&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line">[<span class="keyword">WITH</span> <span class="keyword">CHECK</span> OPTION]</span><br><span class="line"><span class="comment">--3、撤销权限：</span></span><br><span class="line"><span class="keyword">revoke</span> 权限列表 <span class="keyword">on</span> 数据库名.表名 <span class="keyword">from</span> <span class="string">&#x27;用户名&#x27;</span>@<span class="string">&#x27;主机名&#x27;</span>;</span><br></pre></td></tr></table></figure>
<h3 id="数据库的控制功能">数据库的控制功能</h3>
<p>DBMS运行的基本工作单位是事务。<br>
事务是用户定义的一个数据库操作序列，这些操作序列要么全做 要么全都不做，是一个不可分割的工作单位。</p>
<p>复制代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">事务具有以下特性(ACID特性)： </span><br><span class="line">(1)原子性（atomicity） </span><br><span class="line">(2)一致性（consistency） </span><br><span class="line">(3)隔离性（isolation） </span><br><span class="line">(4)持续性（durability，永久性）</span><br><span class="line"></span><br><span class="line">事务通常以BEGIN TRANSACTION（事务开始）语句开始，以 COMMIT或ROLLBACK语句结束。 </span><br><span class="line">COMMIT称为事务提交语句，表示事务执行成功地结束。 </span><br><span class="line">ROLLBACK称为事务回滚语句，表示事务执行不成功地结束，即把事务对数据库的修改进行恢复。</span><br></pre></td></tr></table></figure>
<h4 id="并发控制-2">并发控制</h4>
<p>在多用户共享系统中，许多事务可能同时对同一数据进行操作， 称为并发操作，此时数据库管理系统的并发控制子系统负责协调 并发事务的执行，保证数据库的完整性不受破坏，同时避免用户得到不正确的数据。</p>
<p>1．并发操作的问题</p>
<p>数据库的并发操作可能带来的问题：</p>
<ul>
<li>丢失更新问题</li>
<li>不一致分析问题（读过时的数据）</li>
<li>依赖于未提交更新的问题（读脏数据）</li>
</ul>
<p>2.封锁的类型</p>
<p>处理并发控制的主要方法是采用封锁技术，有两种类型的封锁：</p>
<ul>
<li>X封锁（排他型封锁）</li>
<li>S封锁（共享型封锁）</li>
</ul>
<p>(1)排他型封锁( X封锁)</p>
<p>如果事务T对数据A（可以是数据项、记录、数据集以至整个数据 库）实现了X封锁，那么只允许事务T读取和修改数据A，其他事务要等事务T解除X封锁以后，才能对数据A实现任何类型的封锁。 可见X封锁只允许一个事务独锁某个数据，具有排他性。</p>
<p>(2)共享型封锁（S封锁）</p>
<p>S封锁允许并发读，但不允许修改，也就是说，如果事务T对数据 A实现了S封锁，那么允许事务T读取数据A，但不能修改数据A， 在所有S封锁解除之前决不允许任何事务对数据A实现X封锁。</p>
<h4 id="备份与恢复技术">备份与恢复技术</h4>
<p>1．数据备份</p>
<p>是指为防止系统出现操作失误或系统故障导致数据丢失，而 将全部或部分数据集合从应用主机的硬盘或阵列复制到其它 的存储介质的过程。<br>
数据库只能恢复到备份时的状态，从那以后的所有更新事务必须重新运行才能恢复到故障时的状态。</p>
<p>备份可分为冷备份（静态备份）和热备份（动态备份）<br>
冷备份是在数据库正常关闭的情况下进行的，所以备份过程中不允许对数据库进行任何存取、修改活动。</p>
<p>缺点：<br>
1、单独使用时，只能提供到“某一时间点上”的恢复。<br>
2、在备份时，数据库不能做其他工作。<br>
3、若磁盘有限，只能将备份数据拷贝到磁带等其他外部存储设 备上，速度会比较慢。<br>
4、不能按表或按用户恢复。</p>
<p>热备份是指备份期间允许对数据库进行存取或修改，即备份和用 户事务可以并发执行。</p>
<p>优点：<br>
1、可在表空间或数据库文件级备份，备份的时间短。<br>
2、备份时数据库仍可使用。<br>
3、可对几乎所有数据库实体做恢复<br>
4、恢复是快速的，可在数据库工作时恢复。</p>
<p>热备份缺点：<br>
1．不能出错，否则后果严重<br>
2．若热备份不成功，所得结果不可用于时间点的恢复<br>
3．因难于维护，所以要特别仔细小心，不允许“以失败告终”。</p>
<ul>
<li>完全备份：备份全部文件，并不依赖文件的存档属性来确定备份那些文件。</li>
<li>差分备份：备份自上一次完全备份以来变化过的文件。</li>
<li>增量备份：备份上一次备份后（无论是哪种备份），所有发生变化的文件。</li>
</ul>
<p>2．日志文件</p>
<p>事务日志是针对数据库改变所做的记录，记录对数据库的任何操作，并将记录结果保存在独立的文件中。<br>
在热备份中，必须建立日志文件，备份副本和日志文件综合起来 才能有效地恢复数据库；</p>
<p>在冷备份中，也可以建立日志文件，当数据库毁坏后可重新装入 后援副本把数据库恢复到备份结束时刻的正确状态，然后利用日志文件，把已完成的事务进行重做处理，对故障发生时尚未完成 的事务进行撤销处理。</p>
<p>要求遵循“先写日志文件，然后再写数据库的修改”。</p>
<p>3 . 数据恢复</p>
<p>把数据库从错误状态恢复到某一个已知的正确状态的功能，称为数据库的恢复。<br>
数据恢复的基本原理就是冗余，建立冗余的方法有数据备份和登录日志文件等。</p>
<h4 id="数据库的安全性">数据库的安全性</h4>
<p>数据库系统的信息安全在技术上依赖于两种方式，</p>
<ul>
<li>DBMS本身提供的用户身份识别、视图、使用权限控制、审计 等管理措施，</li>
<li>依靠数据库的应用程序来实现对数据库访问进行控制和管理</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/20190929225516419.png" alt="在这里插入图片描述"></p>
<p>1．用户认证</p>
<p>用户的身份认证是用户使用DBMS系统的第一个环节。</p>
<p>复制代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(1)口令认证 </span><br><span class="line">(2)强身份认证 </span><br><span class="line">  -  用户证书 </span><br><span class="line">  -  智能卡 </span><br><span class="line">  -  用户指纹识别</span><br></pre></td></tr></table></figure>
<p>2．用户角色</p>
<p>用户角色是具有相同操作权限的用户集合，不同角色的用户授予 不同的数据管理和访问操作权限。<br>
一般可以将权限角色分为3类：</p>
<ul>
<li>数据库登录权限类</li>
<li>资源管理权限类</li>
<li>DBA权限类</li>
</ul>
<p>3．存取控制（数据授权）</p>
<p>数据库授权可以分为静态授权和动态授权。<br>
静态授权是DBMS的隐性授权，也就是说用户（或DBA）对他自己 拥有的信息是不需要有指定的授权动作就拥有全权管理和操作的权限的。<br>
动态授权指数据对象的所有者或者DBA默认地拥有对数据的存取权，允许他们把这些权力授予其他的用户。</p>
<p>访问控制可以对用户访问的数据对象进行控制。</p>
<p>粒度从大到小分为4个层次 ：</p>
<ul>
<li>(1)数据库级别</li>
<li>(2)表级，判断用户是否可以访问关系里面的内容。</li>
<li>(3)记录级（行级），判断用户是否能访问关系中的一行记录的内容。</li>
<li>(4)属性级</li>
</ul>
<p>4．数据库视图</p>
<p>是一个虚拟表，其内容由查询定义，其数据不进行实际存储，在对视图的数据进行操作时，系统根据视图的定义去操作与视图相关联的基本表。</p>
<p>使用视图可以实现下列功能：</p>
<ul>
<li>(1)将用户限定在表中的特定行上。</li>
<li>(2)将用户限定在特定列上。</li>
<li>(3)将多个表中的列连接起来，使它们看起来像一个表。</li>
<li>(4)聚合信息而非提供详细信息</li>
</ul>
<p>5．审计功能</p>
<p>身份认证是一种事前的防范措施，审计是一种事后监督的手段。 审计作为一种安全检查的措施，会把系统的运行状况和用户访问数据库的行为记录以日志保存下来，该日志作为一种稽查用户行 为的一种证据。</p>
<p>数据库系统的审计工作包括：</p>
<ul>
<li>设备安全审计</li>
<li>操作审计</li>
<li>应用审计</li>
<li>攻击审计</li>
</ul>
<p>6. 数据加密</p>
<p>是防止数据库中的敏感信息在存储和传输过程中失密的有效手段。</p>
<h3 id="数据仓库与数据挖掘">数据仓库与数据挖掘</h3>
<h4 id="数据仓库">数据仓库</h4>
<ul>
<li>是一个用以更好地支持企业（或组织）决策分析处理的、面向 主题的、集成的、不可更新的（相对稳定的）、随时间不断变 化的数据集合。</li>
<li>本质上和数据库一样，是长期储存在计算机内的、有组织、可 共享的数据集合。</li>
</ul>
<h4 id="数据仓库的基本特征">数据仓库的基本特征</h4>
<ul>
<li>数据仓库的数据是面向主题的；</li>
<li>数据仓库的数据是集成的；</li>
<li>数据仓库的数据是不可更新的；</li>
<li>数据仓库的数据是随时间不断变化的</li>
</ul>
<p>数据仓库反映历史变化的属性主要表现在：</p>
<ul>
<li>(1)数据仓库中的数据时间期限要远远长于传统操作型数据系统中的数据时间期限。</li>
<li>(2)传统操作型数据系统中的数据含有“当前值”的数据，这些 数据在访问时是有效的，当然数据的当前值也能被更新，但数据仓库中的数据仅仅是一系列某一时刻生成的复杂的快照。</li>
<li>(3)传统操作型数据系统中可能包含也可能不包含时间元素，如 年、月、日、时、分、秒等，而数据仓库中一定会包含时间元素。</li>
</ul>
<h4 id="数据仓库系统的体系结构">数据仓库系统的体系结构</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/20190929231346856.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2doYW4xMTA=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<ul>
<li>数据仓库的后台工具：包括数据抽取、清洗、转换、装载和维 护工具。</li>
<li>数据仓库服务器：相当于数据库系统中的DBMS，负责管理数 据仓库中数据的存储管理和数据存取，并给OLAP服务器和前 台工具提供存取接口(如SQL查询接口)</li>
<li>OLAP服务器：透明地为前台工具和用户提供多维数据视图； OLAP服务器则必须考虑物理上这些分析数据的存储问题</li>
<li>前台工具：包括查询报表工具、多维分析工具、数据挖掘工具 和分析结果可视化工具等</li>
</ul>
<h4 id="数据挖掘的概念">数据挖掘的概念</h4>
<ul>
<li>概念：数据挖掘是从大量数据中发现并提取隐藏在内的、人们 事先不知道的但可能有用的信息和知识的一种新技术</li>
<li>目的：帮助决策者寻找数据间潜在的关联，发现经营者被忽略 的要素</li>
<li>数据挖掘技术涉及数据库技术、人工智能技术、机器学习、统 计分析等多种技术</li>
</ul>
<h4 id="数据挖掘和传统分析方法的区别">数据挖掘和传统分析方法的区别</h4>
<p>本质区别：数据挖掘是在没有明确假设的前提下去挖掘信息，发现知识。<br>
数据挖掘所得到的信息应具有事先未知、有效和可实用3个特征</p>
<h4 id="数据挖掘的数据源">数据挖掘的数据源</h4>
<ul>
<li>从数据仓库中来<br>
优点：许多数据不一致的问题都较好地解决了，在数据挖掘时大大减少了清理数据的工作量<br>
缺点：建立数据仓库是一项巨大的工程，耗时耗力</li>
<li>从数据库中来<br>
如果只是为了数据挖掘，可以把一个或几个OLTP数据库导入 一个只读的数据库中，然后在上面进行数据挖掘</li>
</ul>
<h4 id="数据挖掘的功能">数据挖掘的功能</h4>
<ul>
<li>趋势和演变分析</li>
<li>关联分析</li>
<li>聚类</li>
<li>概念描述</li>
<li>偏差检测</li>
</ul>
<h4 id="数据挖掘的流程">数据挖掘的流程</h4>
<ul>
<li>(1)问题定义<br>
在开始数据挖掘之前最先的也是最重要的要求就是熟悉背景知识， 弄清用户的需求</li>
<li>(2)建立数据挖掘库<br>
要进行数据挖掘必须收集要挖掘的数据资源。一般建议把要挖掘的数据都收集到一个数据库中</li>
<li>(3)分析数据<br>
分析数据就是通常所进行的对数据深入调查的过程。从数据集中 找出规律和趋势，发现因素之间的相关性。</li>
<li>(4)调整数据<br>
通过上述步骤的操作，对数据的状态和趋势有了进一步的了解， 这时要尽可能对问题解决的要求能进一步明确化、进一步量化。</li>
<li>(5)模型化<br>
在问题进一步明确，数据结构和内容进一步调整的基础上，就可 以建立形成知识的模型。</li>
<li>(6)评价和解释</li>
</ul>
<h3 id="分布式数据库">分布式数据库</h3>
<h4 id="分布式数据库-2">分布式数据库</h4>
<p>分布式数据库由一组数据组成，这些数据物理上分布在计算机网 络的不同结点(场地)上，逻辑上是属于同一个系统。每个结点可 以执行局部应用，也能通过网络通信子系统执行全局应用。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/20190929231950820.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2doYW4xMTA=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h4 id="分布式数据库系统的特点">分布式数据库系统的特点</h4>
<p>1.数据独立性<br>
2.集中与自治相结合的控制结构<br>
3.适当增加数据冗余度<br>
4.全局的一致性、可串行性和可恢复性</p>
<h4 id="分布式数据存储">分布式数据存储</h4>
<p>分布式数据存储可以从数据分配和数据分片两个角度考察。<br>
1、数据分配是指数据在计算机网络各场地上的分配策略。</p>
<ul>
<li>集中式</li>
<li>分割式</li>
<li>全复制式</li>
<li>混合式</li>
</ul>
<p>2、数据分片是指数据存放单位不是全部关系，而是关系的一部 分，包括以下几种方式。</p>
<ul>
<li>水平分片：按一定的条件把全局关系的所有元组划分成若干不相交的子集，每个子集为关系的一个片段。</li>
<li>垂直分片：把一个全局关系的属性集分成若干子集，并在这些子集上做投影运算，每个投影为垂直分片。</li>
<li>混合型分片：将水平分片与垂直分片方式综合使用则为混合型分片。</li>
</ul>
<h4 id="分布式DBMS组成">分布式DBMS组成</h4>
<p>(1) LDBMS（局部DBMS）<br>
建立和管理局部数据库，提供场地自治能力、执行局部应用及全局查询的子查询。<br>
(2) GDBMS（全局DBMS）<br>
提供分布透明性，协调全局事务的执行，协调各LDBMS以完成 全局应用，保证数据库的全局一致性，执行并发控制，实现更新同步，提供全局恢复功能。<br>
(3)全局数据字典<br>
存放全局概念模式、分片模式、分布模式的定义，以及各模 式之间映像的定义；存放有关用户存取权限的定义，以保证 全局用户的合法权限和数据库的安全性；存放数据完整性约束条件的定义，其功能与集中式数据库的数据字典类似。<br>
(4)通信管理<br>
在分布式数据库各场地之间传送消息和数据，完成通信功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/20190929232328615.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2doYW4xMTA=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h3 id="模式分解">模式分解</h3>
<p><strong>1.对一个给定的模式进行分解，分解后的模式要与原模式等价：</strong></p>
<ul>
<li>分解具有无损连接性【如果R的分解为p={R1，R2}，R1∩R2-(R1-R2)或者R1∩R2-(R2-R1)】</li>
<li>分解要保持函数依赖</li>
<li>分解既要无损连接性，又要保持函数依赖</li>
</ul>
<p><strong>2、经典例题</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/fee9553b44694f23b7125b7f1ddf969f.png" alt></p>
<h2 id="七、数据库的控制功能（⭐⭐）">七、数据库的控制功能（⭐⭐）</h2>
<h3 id="1、事务管理与并发控制">1、事务管理与并发控制</h3>
<p><strong>1.事务的四个特性：</strong></p>
<ul>
<li>**原子性：**事务的所有操作在数据库中要么全做，要么全都不做。</li>
<li>**一致性：**一个事务独立执行的结果，将保持数据的一致性，即数据不会因为事务的执行而被破坏。</li>
<li>**隔离性：**一个事务的执行不能被其他事务干扰。</li>
<li>**持久性：**一个事务一旦提交，它对数据库中数据的改变必须是永久的，即便系统出现故障时也是如此。</li>
</ul>
<p><strong>2.并发控制技术(封锁技术)（并发操作带来的问题：丢失更新，不可重复读，读脏数据）</strong></p>
<ul>
<li>排它锁(X)：若事务T对A加上X锁，则只允许T读取和修改A，其他事务都不能再对A加任何类型的锁，直达T释放A上的锁。</li>
<li>共享锁(S)：若事务T对A加上S锁，则只允许T读取A，但不能修改A，其他事务只能在对A加S锁，直到T释放A上的S锁。</li>
</ul>
<p><strong>3.经典例题</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/104d869e7b20463fbd6cb841186276fc.jpeg" alt></p>
<h3 id="2、数据库的备份与恢复">2、数据库的备份与恢复</h3>
<p><strong>1.事故类型：内部故障、系统故障、介质故障、计算机病毒</strong></p>
<p><strong>2.备份方法：（原理是&quot;建立冗余数据&quot;）</strong></p>
<ul>
<li>日志文件：进入事务处理先写入日志文件，当系统正常运行时，将缓冲区内容写入数据文件。</li>
<li>静态转储和动态转储</li>
<li>海量转储和增量转储</li>
</ul>
<p>3.恢复</p>
<p>4.数据库镜像</p>
<h2 id="八、零碎知识点（⭐⭐⭐）">八、零碎知识点（⭐⭐⭐）</h2>
<p><strong>1.关系模式</strong></p>
<ul>
<li>由数据结构、关系操作集合、关系完整性约束三部分组成</li>
<li>用二维表结构表示实体</li>
</ul>
<p><strong>2.分布透明性</strong></p>
<ul>
<li>分片透明性：用户或应用程序不需要知道逻辑上访问的表具体是如何分块存储的</li>
<li>位置透明性：应用程序不关心数据存储物理位置的改变</li>
<li>逻辑透明性：用户或应用程序无需知道局部使用的是哪种数据模型</li>
<li>复制透明性：用户或应用程序不关心复制的数据从何而来</li>
</ul>
<p><strong>3.分布数据库</strong></p>
<ul>
<li>共线性：存储在不同节点的数据共享</li>
<li>自治性：每个结点对本地数据能独立管理</li>
<li>可用性：某一场地故障时，可以用其他场地副本从而不至于瘫痪</li>
<li>分布性：数据在不同场地上的存储</li>
</ul>
<p><strong>4.OLAP通过多维的方式进行分析</strong></p>
<p><strong>5.DES共享密钥加密（对称加密）</strong></p>
<p><strong>6.经典例题</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/713385f144624c3bbc70a7f96329c1ac.jpeg" alt></p>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css"></article><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="/cover/2017GuiDao/56.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/9ab988dd/" title="原码，反码和补码"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous</div><div class="prev_info">原码，反码和补码</div></div></a></div><div class="next-post pull-right"><a href="/d0f2de1d/" title="校验码"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next</div><div class="next_info">校验码</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.</span> <span class="toc-text">数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%80%83%E7%82%B9%E5%BD%92%E7%BA%B3"><span class="toc-number">1.1.</span> <span class="toc-text">考点归纳</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.1.1.</span> <span class="toc-text">数据库模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ER%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.1.2.</span> <span class="toc-text">ER模型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E5%92%8C%E5%85%83%E7%BB%84%E6%BC%94%E7%AE%97"><span class="toc-number">1.1.3.</span> <span class="toc-text">关系运算和元组演算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%84%E8%8C%83%E5%8C%96%E7%90%86%E8%AE%BA"><span class="toc-number">1.1.4.</span> <span class="toc-text">规范化理论</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SQL%E8%AF%AD%E8%A8%80"><span class="toc-number">1.1.5.</span> <span class="toc-text">SQL语言</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6"><span class="toc-number">1.1.6.</span> <span class="toc-text">并发控制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86"><span class="toc-number">1.1.7.</span> <span class="toc-text">其他相关知识</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B%E4%B8%AA%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5"><span class="toc-number">1.2.</span> <span class="toc-text">四个基础概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">1.3.</span> <span class="toc-text">关系数据库基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.4.</span> <span class="toc-text">数据库模型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%B8%89%E7%BA%A7%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.4.1.</span> <span class="toc-text">数据库系统的三级模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E4%B8%AA%E7%BA%A7%E5%88%AB"><span class="toc-number">1.4.2.</span> <span class="toc-text">三个级别</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.5.</span> <span class="toc-text">数据模型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.5.1.</span> <span class="toc-text">关系模型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">1.5.2.</span> <span class="toc-text">基本概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%84%E8%8C%83%E5%8C%96%E7%90%86%E8%AE%BA-2"><span class="toc-number">1.5.3.</span> <span class="toc-text">规范化理论</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8C%83%E5%BC%8F"><span class="toc-number">1.5.4.</span> <span class="toc-text">范式</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number"></span> <span class="toc-text">数据操作</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.</span> <span class="toc-text">集合运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E7%A7%8D%E5%9F%BA%E6%9C%AC%E7%9A%84%E5%85%B3%E7%B3%BB%E4%BB%A3%E6%95%B0%E8%BF%90%E7%AE%97"><span class="toc-number">2.</span> <span class="toc-text">5 种基本的关系代数运算</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%B6%EF%BC%88Union%EF%BC%89"><span class="toc-number">2.1.</span> <span class="toc-text">并（Union）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%AE%EF%BC%88Difference%EF%BC%89"><span class="toc-number">2.2.</span> <span class="toc-text">差（Difference）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%BF%E4%B9%89%E7%AC%9B%E5%8D%A1%E5%B0%94%E7%A7%AF%EF%BC%88Extended-Cartesian-Product%EF%BC%89"><span class="toc-number">2.3.</span> <span class="toc-text">广义笛卡尔积（Extended Cartesian Product）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%95%E5%BD%B1%EF%BC%88Projection%EF%BC%89"><span class="toc-number">2.4.</span> <span class="toc-text">投影（Projection）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%EF%BC%88Selection%EF%BC%89"><span class="toc-number">2.5.</span> <span class="toc-text">选择（Selection）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B"><span class="toc-number">3.</span> <span class="toc-text">实例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E7%9A%84%E5%85%B3%E7%B3%BB%E4%BB%A3%E6%95%B0%E8%BF%90%E7%AE%97"><span class="toc-number">4.</span> <span class="toc-text">扩展的关系代数运算</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%A4%EF%BC%88Intersection%EF%BC%89"><span class="toc-number">4.1.</span> <span class="toc-text">交（Intersection）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%93%BE%E6%8E%A5%EF%BC%88Join%EF%BC%89"><span class="toc-number">4.2.</span> <span class="toc-text">链接（Join）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%CE%B8-%E9%93%BE%E6%8E%A5"><span class="toc-number">4.2.1.</span> <span class="toc-text">θ 链接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AD%89%E5%80%BC%E9%93%BE%E6%8E%A5"><span class="toc-number">4.2.2.</span> <span class="toc-text">等值链接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E7%84%B6%E9%93%BE%E6%8E%A5"><span class="toc-number">4.2.3.</span> <span class="toc-text">自然链接</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%99%A4%EF%BC%88Division%EF%BC%89"><span class="toc-number">4.3.</span> <span class="toc-text">除（Division）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%96%E8%BF%9E%E6%8E%A5"><span class="toc-number">4.4.</span> <span class="toc-text">外连接</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number"></span> <span class="toc-text">数据库语言</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89"><span class="toc-number">0.0.1.</span> <span class="toc-text">数据定义</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81SQL%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89%EF%BC%88DDL%EF%BC%89"><span class="toc-number">0.1.</span> <span class="toc-text">1、SQL数据定义（DDL）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81SQL%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2%EF%BC%88DQL%EF%BC%89"><span class="toc-number">0.2.</span> <span class="toc-text">2、SQL数据查询（DQL）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81SQL%E6%95%B0%E6%8D%AE%E6%9B%B4%E6%96%B0%EF%BC%88DML%EF%BC%89"><span class="toc-number">0.3.</span> <span class="toc-text">3、SQL数据更新（DML）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81SQL%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%EF%BC%88DCL%EF%BC%89"><span class="toc-number">0.4.</span> <span class="toc-text">4、SQL访问控制（DCL）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%8E%A7%E5%88%B6%E5%8A%9F%E8%83%BD"><span class="toc-number">0.5.</span> <span class="toc-text">数据库的控制功能</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6-2"><span class="toc-number">0.5.1.</span> <span class="toc-text">并发控制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D%E6%8A%80%E6%9C%AF"><span class="toc-number">0.5.2.</span> <span class="toc-text">备份与恢复技术</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AE%89%E5%85%A8%E6%80%A7"><span class="toc-number">0.5.3.</span> <span class="toc-text">数据库的安全性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E4%B8%8E%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98"><span class="toc-number">0.6.</span> <span class="toc-text">数据仓库与数据挖掘</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93"><span class="toc-number">0.6.1.</span> <span class="toc-text">数据仓库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%89%B9%E5%BE%81"><span class="toc-number">0.6.2.</span> <span class="toc-text">数据仓库的基本特征</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">0.6.3.</span> <span class="toc-text">数据仓库系统的体系结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">0.6.4.</span> <span class="toc-text">数据挖掘的概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%E5%92%8C%E4%BC%A0%E7%BB%9F%E5%88%86%E6%9E%90%E6%96%B9%E6%B3%95%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">0.6.5.</span> <span class="toc-text">数据挖掘和传统分析方法的区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%E7%9A%84%E6%95%B0%E6%8D%AE%E6%BA%90"><span class="toc-number">0.6.6.</span> <span class="toc-text">数据挖掘的数据源</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="toc-number">0.6.7.</span> <span class="toc-text">数据挖掘的功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%E7%9A%84%E6%B5%81%E7%A8%8B"><span class="toc-number">0.6.8.</span> <span class="toc-text">数据挖掘的流程</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">0.7.</span> <span class="toc-text">分布式数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93-2"><span class="toc-number">0.7.1.</span> <span class="toc-text">分布式数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">0.7.2.</span> <span class="toc-text">分布式数据库系统的特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8"><span class="toc-number">0.7.3.</span> <span class="toc-text">分布式数据存储</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E5%B8%83%E5%BC%8FDBMS%E7%BB%84%E6%88%90"><span class="toc-number">0.7.4.</span> <span class="toc-text">分布式DBMS组成</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%88%86%E8%A7%A3"><span class="toc-number">0.8.</span> <span class="toc-text">模式分解</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%8E%A7%E5%88%B6%E5%8A%9F%E8%83%BD%EF%BC%88%E2%AD%90%E2%AD%90%EF%BC%89"><span class="toc-number">1.</span> <span class="toc-text">七、数据库的控制功能（⭐⭐）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E4%BA%8B%E5%8A%A1%E7%AE%A1%E7%90%86%E4%B8%8E%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6"><span class="toc-number">1.1.</span> <span class="toc-text">1、事务管理与并发控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D"><span class="toc-number">1.2.</span> <span class="toc-text">2、数据库的备份与恢复</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AB%E3%80%81%E9%9B%B6%E7%A2%8E%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%88%E2%AD%90%E2%AD%90%E2%AD%90%EF%BC%89"><span class="toc-number">2.</span> <span class="toc-text">八、零碎知识点（⭐⭐⭐）</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/%E8%B5%84%E4%BA%A7%E8%AF%81%E5%88%B8%E5%8C%96%E7%BB%84%E5%90%88%E4%BF%A1%E7%94%A8%E9%A3%8E%E9%99%A9%E9%87%8F%E5%8C%96%E5%88%86%E6%9E%90%E6%96%B9%E6%B3%95%E5%88%9D%E6%8E%A2/" title="资产证券化组合信用风险量化分析方法初探"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="资产证券化组合信用风险量化分析方法初探"/></a><div class="content"><a class="title" href="/%E8%B5%84%E4%BA%A7%E8%AF%81%E5%88%B8%E5%8C%96%E7%BB%84%E5%90%88%E4%BF%A1%E7%94%A8%E9%A3%8E%E9%99%A9%E9%87%8F%E5%8C%96%E5%88%86%E6%9E%90%E6%96%B9%E6%B3%95%E5%88%9D%E6%8E%A2/" title="资产证券化组合信用风险量化分析方法初探">资产证券化组合信用风险量化分析方法初探</a><time datetime="2024-09-29T09:15:04.619Z" title="Created 2024-09-29 17:15:04">2024-09-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/0/" title="Untitled"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Untitled"/></a><div class="content"><a class="title" href="/0/" title="Untitled">Untitled</a><time datetime="2024-09-29T02:36:52.313Z" title="Created 2024-09-29 10:36:52">2024-09-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/%E6%B1%BD%E8%BD%A6%E9%87%91%E8%9E%8D%E7%B1%BB%E7%BB%93%E6%9E%84%E5%8C%96%E8%9E%8D%E8%B5%84%E4%BA%A7%E5%93%81%E8%AF%84%E7%BA%A7%E6%96%B9%E6%B3%95%E4%B8%8E%E6%A8%A1%E5%9E%8B/" title="汽车金融类结构化融资产品评级方法与模型"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="汽车金融类结构化融资产品评级方法与模型"/></a><div class="content"><a class="title" href="/%E6%B1%BD%E8%BD%A6%E9%87%91%E8%9E%8D%E7%B1%BB%E7%BB%93%E6%9E%84%E5%8C%96%E8%9E%8D%E8%B5%84%E4%BA%A7%E5%93%81%E8%AF%84%E7%BA%A7%E6%96%B9%E6%B3%95%E4%B8%8E%E6%A8%A1%E5%9E%8B/" title="汽车金融类结构化融资产品评级方法与模型">汽车金融类结构化融资产品评级方法与模型</a><time datetime="2024-09-27T01:32:00.382Z" title="Created 2024-09-27 09:32:00">2024-09-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/Excel%E5%87%BD%E6%95%B0/" title="Excel函数"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Excel函数"/></a><div class="content"><a class="title" href="/Excel%E5%87%BD%E6%95%B0/" title="Excel函数">Excel函数</a><time datetime="2024-09-25T09:18:41.754Z" title="Created 2024-09-25 17:18:41">2024-09-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/3.11%E7%89%B9%E5%AE%9A%E4%BC%81%E4%B8%9A%EF%BC%88%E4%BA%A4%E6%98%93%E8%A1%8C%E4%B8%BA%EF%BC%89%E7%9A%84%E5%A2%9E%E5%80%BC%E7%A8%8E%E6%94%BF%E7%AD%96/" title="3.11特定企业（交易行为）的增值税政策"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="3.11特定企业（交易行为）的增值税政策"/></a><div class="content"><a class="title" href="/3.11%E7%89%B9%E5%AE%9A%E4%BC%81%E4%B8%9A%EF%BC%88%E4%BA%A4%E6%98%93%E8%A1%8C%E4%B8%BA%EF%BC%89%E7%9A%84%E5%A2%9E%E5%80%BC%E7%A8%8E%E6%94%BF%E7%AD%96/" title="3.11特定企业（交易行为）的增值税政策">3.11特定企业（交易行为）的增值税政策</a><time datetime="2024-09-24T13:49:56.521Z" title="Created 2024-09-24 21:49:56">2024-09-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/3.10%E5%87%BA%E5%8F%A3%E7%8E%AF%E8%8A%82%E5%A2%9E%E5%80%BC%E7%A8%8E%E6%94%BF%E7%AD%96/" title="3.10出口环节增值税政策"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="3.10出口环节增值税政策"/></a><div class="content"><a class="title" href="/3.10%E5%87%BA%E5%8F%A3%E7%8E%AF%E8%8A%82%E5%A2%9E%E5%80%BC%E7%A8%8E%E6%94%BF%E7%AD%96/" title="3.10出口环节增值税政策">3.10出口环节增值税政策</a><time datetime="2024-09-24T13:49:04.096Z" title="Created 2024-09-24 21:49:04">2024-09-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/3.9%E8%BF%9B%E5%8F%A3%E7%8E%AF%E8%8A%82%E5%A2%9E%E5%80%BC%E7%A8%8E%E6%94%BF%E7%AD%96/" title="3.9进口环节增值税政策"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="3.9进口环节增值税政策"/></a><div class="content"><a class="title" href="/3.9%E8%BF%9B%E5%8F%A3%E7%8E%AF%E8%8A%82%E5%A2%9E%E5%80%BC%E7%A8%8E%E6%94%BF%E7%AD%96/" title="3.9进口环节增值税政策">3.9进口环节增值税政策</a><time datetime="2024-09-24T13:48:40.506Z" title="Created 2024-09-24 21:48:40">2024-09-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/3.5%E7%A8%8E%E6%94%B6%E4%BC%98%E6%83%A0/" title="3.5税收优惠"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="3.5税收优惠"/></a><div class="content"><a class="title" href="/3.5%E7%A8%8E%E6%94%B6%E4%BC%98%E6%83%A0/" title="3.5税收优惠">3.5税收优惠</a><time datetime="2024-09-24T13:47:25.827Z" title="Created 2024-09-24 21:47:25">2024-09-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/3.8%E7%AE%80%E6%98%93%E8%AE%A1%E7%A8%8E%E6%96%B9%E6%B3%95%E5%BA%94%E7%BA%B3%E7%A8%8E%E9%A2%9D%E8%AE%A1%E7%AE%97/" title="3.8简易计税方法应纳税额计算"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="3.8简易计税方法应纳税额计算"/></a><div class="content"><a class="title" href="/3.8%E7%AE%80%E6%98%93%E8%AE%A1%E7%A8%8E%E6%96%B9%E6%B3%95%E5%BA%94%E7%BA%B3%E7%A8%8E%E9%A2%9D%E8%AE%A1%E7%AE%97/" title="3.8简易计税方法应纳税额计算">3.8简易计税方法应纳税额计算</a><time datetime="2024-09-24T13:46:37.398Z" title="Created 2024-09-24 21:46:37">2024-09-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/0/" title="Untitled"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Untitled"/></a><div class="content"><a class="title" href="/0/" title="Untitled">Untitled</a><time datetime="2024-09-23T09:58:12.466Z" title="Created 2024-09-23 17:58:12">2024-09-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024-09-23%E5%8D%8E%E4%B8%BA%E6%80%8E%E6%A0%B7%E5%A4%8D%E5%88%B6%E9%97%AE%E7%95%8C/" title="2024-09-23华为怎样复制问界"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="2024-09-23华为怎样复制问界"/></a><div class="content"><a class="title" href="/2024-09-23%E5%8D%8E%E4%B8%BA%E6%80%8E%E6%A0%B7%E5%A4%8D%E5%88%B6%E9%97%AE%E7%95%8C/" title="2024-09-23华为怎样复制问界">2024-09-23华为怎样复制问界</a><time datetime="2024-09-23T05:44:56.533Z" title="Created 2024-09-23 13:44:56">2024-09-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/3.7%E4%B8%80%E8%88%AC%E8%AE%A1%E7%A8%8E%E6%96%B9%E6%B3%95%E5%BA%94%E7%BA%B3%E7%A8%8E%E9%A2%9D%E8%AE%A1%E7%AE%97/" title="3.7一般计税方法应纳税额计算"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="3.7一般计税方法应纳税额计算"/></a><div class="content"><a class="title" href="/3.7%E4%B8%80%E8%88%AC%E8%AE%A1%E7%A8%8E%E6%96%B9%E6%B3%95%E5%BA%94%E7%BA%B3%E7%A8%8E%E9%A2%9D%E8%AE%A1%E7%AE%97/" title="3.7一般计税方法应纳税额计算">3.7一般计税方法应纳税额计算</a><time datetime="2024-09-22T00:46:45.682Z" title="Created 2024-09-22 08:46:45">2024-09-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/3.6%E5%A2%9E%E5%80%BC%E7%A8%8E%E8%AE%A1%E7%A8%8E%E6%96%B9%E6%B3%95%20/" title="3.6增值税计税方法"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="3.6增值税计税方法"/></a><div class="content"><a class="title" href="/3.6%E5%A2%9E%E5%80%BC%E7%A8%8E%E8%AE%A1%E7%A8%8E%E6%96%B9%E6%B3%95%20/" title="3.6增值税计税方法">3.6增值税计税方法</a><time datetime="2024-09-21T14:27:16.677Z" title="Created 2024-09-21 22:27:16">2024-09-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/3.4%E7%A8%8E%E7%8E%87%E5%92%8C%E5%BE%81%E6%94%B6%E7%8E%87/" title="3.4税率和征收率"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="3.4税率和征收率"/></a><div class="content"><a class="title" href="/3.4%E7%A8%8E%E7%8E%87%E5%92%8C%E5%BE%81%E6%94%B6%E7%8E%87/" title="3.4税率和征收率">3.4税率和征收率</a><time datetime="2024-09-21T11:34:13.258Z" title="Created 2024-09-21 19:34:13">2024-09-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/%E9%9D%99%E6%80%81%E6%B1%A0%E7%9A%84%E9%A3%8E%E9%99%A9%E4%BB%B7%E5%80%BC%E5%88%86%E6%9E%90%E6%B3%95/" title="静态池的风险价值分析法"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="静态池的风险价值分析法"/></a><div class="content"><a class="title" href="/%E9%9D%99%E6%80%81%E6%B1%A0%E7%9A%84%E9%A3%8E%E9%99%A9%E4%BB%B7%E5%80%BC%E5%88%86%E6%9E%90%E6%B3%95/" title="静态池的风险价值分析法">静态池的风险价值分析法</a><time datetime="2024-09-19T08:38:33.247Z" title="Created 2024-09-19 16:38:33">2024-09-19</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By 民工</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.8/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, '']
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typesetPromise()
}</script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div></body></html>